<script src="~/lib/jquery-validation/dist/jquery.validate.min.js"></script>
<script src="~/lib/jquery-validation-unobtrusive/dist/jquery.validate.unobtrusive.min.js"></script>

<script>
  (function ($) {
    // Client-side validator for PastDateAttribute
    $.validator.addMethod("pastdate", function (value, element, params) {
      if (!value) return true; // empty will be handled by [Required]
      var input = new Date(value);
      var today = new Date();
      input.setHours(0,0,0,0);
      today.setHours(0,0,0,0);
      return input < today;
    });

    // Register unobtrusive adapter (no params)
    $.validator.unobtrusive.adapters.addBool("pastdate");
  })(jQuery);
</script>
